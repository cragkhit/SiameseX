<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Siamese: Sign in</title>
    <!-- Metas -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" th:href="@{/css/login.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/boxshadow.css}" type="text/css">
</head>
<body>
    <div class="signin-form container mt-sm-4 mt-lg-5 mb-3 border-top loginContainerShadow rounded">

        <!-- content here -->
        <div class="text-center mb-4" >
            <!-- Main logo -->
            <img th:src="@{/images/logo.png}" class="mb-4" alt="Siamese logo" width="72" height="72">
            <h1 class="h3 mb-3 font-weight-light">Sign in to SiameseX</h1>
            <!-- Conditional Feedback messages here-->
            <p th:if="${param.error}" class="alert alert-danger text-sm-font">
                Invalid username and password.
            </p>
            <p th:if="${param.logout}" class="alert alert-warning text-sm-font">
                You have been logged out.
            </p>
            <p th:if="${param.registered}" class="alert alert-success text-sm-font">
                You have been registered successfully. Please login.
            </p>
        </div>

        <!-- Sign-in form-->
        <!-- novalidate boolean will prevent browser to display default feedback tooltips -->
        <form th:action="@{/login}" method="post" role="form" class="needs-validation" novalidate>
            <div class="form-group">
                <label for="inputEmail1">Email address</label>
                <input id="inputEmail1" type="email" name="email" placeholder="name@example.com"
                       class="form-control" aria-describedby="emailHelp" maxlength="60" required />
                <!-- <small id="emailHelp" class="form-text text-muted">Your email is in our safe hand</small> -->

                <!-- validation Feedback Texts -->
                <div class="valid-feedback">
                    <!-- Empty feedback -->
                </div>
                <div class="invalid-feedback">
                    Please insert a correct email format i.e name@example.com
                </div>
            </div><!-- .form-group -->

            <div class="form-group clearfix mb-5">
                <label for="inputPassword1">Password</label>

                <!--<form th:action="@{/forgot-password}" method="get" role="form">-->
                <!--&lt;!&ndash; forget password &ndash;&gt;-->
                <!--<button class="btn btn-link text-right p-0 font-weight-light mb-1 float-right" style="border: 0px" type="submit">-->
                <!--Forgot Password?-->
                <!--</button>-->
                <!--</form>-->

                <input id="inputPassword1" type="password" name="password" placeholder="Password"
                       class="form-control" aria-describedby="passwordHelp" required/>
                <!-- <small id="passwordHelp" class="form-text text-muted">Your password is in also in our safe hand</small> -->

                <!-- validation Feedback Texts -->
                <div class="valid-feedback">
                    <!-- Empty feedback -->
                </div>
                <div class="invalid-feedback">
                    Please insert a password
                </div>
            </div><!-- .form-group -->
            <!-- TODO: Remember me checkbox
            <div class="form-check mb-4">
                <input type="checkbox" class="form-check-input" id="rememberCheck1">
                <label class="form-check-label" for="rememberCheck1">Remember me</label>
            </div>
            -->
            <input id="loginSubmitBtn1" class="btn btn-lg btn-primary btn-block mb-3 slick-shadow" type="submit" value="Sign in" />

        </form>

        <form class="mt-3" method="get" role="form" th:action="@{/forgot-password}">
            <h5 class="font-weight-light text-center">
                <input class="btn btn-link text-center pt-0 pb-0" style="margin-bottom:4px" type="submit"
                       value="Forgot password"/>
            </h5>
        </form>
    </div><!-- .signin-form -->



    <!-- Go to Register form-->
    <form th:action="@{/register}" method="get" class="mt-3" role="form">
        <h5 class="font-weight-light text-center">
            <span class="text-secondary">Not having an account? </span>
            <input class="btn btn-link text-center pt-0 pb-0" style="margin-bottom:4px" type="submit" value="Register" />
        </h5>
    </form>

    <!-- Footer -->
    <footer class="page-footer font-small">

        <!-- Copyright -->
        <div class="footer-copyright text-center py-3 text-muted" style="font-size: 0.7rem">
            Copyright Â© Faculty of ICT, Mahidol University 2019
        </div>

    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- Page's Javascript -->
    <script type="text/javascript">
        // Using jQuery must be in this document ready function
        $(function() {
            // Disabling form submission if the validation return false
            // Validation of property input called by .checkValidity()
            // Basicly, use min, max for type=number, for text pattern="[A-Za-z]{3}" like this
            // Pattern ref: https://www.w3schools.com/tags/att_input_pattern.asp
            // https://www.w3schools.com/js/js_validation_api.asp
            $('form.needs-validation').submit(function(event){
                if(this.checkValidity() == false)
                {
                    event.preventDefault();
                    event.stopPropagation();
                    this.classList.add('was-validated');
                    console.log('Form is invalidated');
                }else{
                    console.log('Form is validated');
                }
            });

            // Bind all input in the form submit with enter keypress
            // Solution from: https://stackoverflow.com/questions/477691/submitting-a-form-by-pressing-enter-without-a-submit-button
            // Author: sanmai , Edited on Sep 19
            $('form').each(function() {
                $(this).find('input').keypress(function(e) {
                    // Enter pressed?
                    if(e.which == 10 || e.which == 13) {
                        this.form.submit();
                    }
                });

                // In case, input's box must be hidden
                // $(this).find('input[type=submit]').hide();
            });

        });
    </script>

</body>
</html>
